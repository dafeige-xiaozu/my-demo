================================================================================
            Todo App - é˜¿é‡Œäº‘éƒ¨ç½²å®Œæ•´æŒ‡å—
================================================================================

ğŸ“‹ é¡¹ç›®ä¿¡æ¯
-----------
é¡¹ç›®åç§°: Todo List App
å‰ç«¯æŠ€æœ¯: React + Vite + Tailwind CSS
åç«¯æŠ€æœ¯: Python + FastAPI + SQLAlchemy
æ•°æ®åº“: SQLite
æœåŠ¡å™¨: é˜¿é‡Œäº‘ ECS (182.92.82.185)

================================================================================
ğŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤
================================================================================

ç¬¬ä¸€æ­¥ï¼šåˆå§‹åŒ–æœåŠ¡å™¨ç¯å¢ƒ
-----------------------
bash server-setup.sh

è¿™ä¸ªè„šæœ¬ä¼šï¼š
âœ“ æ›´æ–°ç³»ç»ŸåŒ…
âœ“ å®‰è£… Node.js 18+
âœ“ å®‰è£… Python 3.9+
âœ“ å®‰è£… PM2 è¿›ç¨‹ç®¡ç†å™¨
âœ“ åˆ›å»ºåº”ç”¨ç›®å½•

ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²åº”ç”¨
--------------
npm run deploy

æˆ–æ‰‹åŠ¨æ‰§è¡Œï¼š
bash deploy.sh

è¿™ä¸ªè„šæœ¬ä¼šï¼š
âœ“ å…‹éš†/æ›´æ–°ä»£ç 
âœ“ å®‰è£…å‰ç«¯ä¾èµ–
âœ“ æ„å»ºå‰ç«¯åº”ç”¨
âœ“ å®‰è£… Python ä¾èµ–
âœ“ å¯åŠ¨åç«¯ FastAPI æœåŠ¡
âœ“ å¯åŠ¨å‰ç«¯åº”ç”¨

ç¬¬ä¸‰æ­¥ï¼šé…ç½® Nginx åå‘ä»£ç†
---------------------------
bash aliyun-nginx-setup.sh

è¿™ä¸ªè„šæœ¬ä¼šï¼š
âœ“ å®‰è£… Nginx
âœ“ é…ç½®åå‘ä»£ç†
âœ“ ä»£ç† /api/* åˆ°åç«¯ (localhost:8000)
âœ“ ä»£ç† /* åˆ°å‰ç«¯ (dist é™æ€æ–‡ä»¶)
âœ“ å¯åŠ¨ Nginx æœåŠ¡

================================================================================
ğŸ“ è®¿é—®åœ°å€
================================================================================

éƒ¨ç½²åçš„è®¿é—®åœ°å€ï¼š
  
  å‰ç«¯åº”ç”¨: http://182.92.82.185
  API æ–‡æ¡£: http://182.92.82.185/docs
  API åœ°å€: http://182.92.82.185/api/todos
  ReDoc: http://182.92.82.185/redoc

================================================================================
ğŸ”§ æœåŠ¡ç®¡ç†
================================================================================

ä½¿ç”¨ PM2 ç®¡ç†åç«¯è¿›ç¨‹ï¼š

æŸ¥çœ‹è¿›ç¨‹:
  pm2 list

æŸ¥çœ‹æ—¥å¿—:
  pm2 logs todo-backend
  pm2 logs todo-frontend

é‡å¯æœåŠ¡:
  pm2 restart todo-backend
  pm2 restart todo-frontend

åœæ­¢æœåŠ¡:
  pm2 stop todo-backend
  pm2 stop todo-frontend

================================================================================
ğŸŒ Nginx é…ç½®è¯´æ˜
================================================================================

Nginx é…ç½®æ–‡ä»¶ä½ç½®: /etc/nginx/sites-available/todo-app

ä¸»è¦é…ç½®ï¼š
  - å‰ç«¯é™æ€èµ„æº: ä» /root/todo-app/dist æœåŠ¡
  - åç«¯ API ä»£ç†: /api/* â†’ http://localhost:8000
  - API æ–‡æ¡£: /docs â†’ http://localhost:8000/docs

Nginx å¸¸ç”¨å‘½ä»¤ï¼š
  æ£€æŸ¥é…ç½®: nginx -t
  é‡å¯: systemctl restart nginx
  åœæ­¢: systemctl stop nginx
  æŸ¥çœ‹çŠ¶æ€: systemctl status nginx

================================================================================
ğŸ“¦ æ›´æ–°ä»£ç 
================================================================================

å½“éœ€è¦æ›´æ–°ä»£ç æ—¶ï¼š

1. æœ¬åœ°æ›´æ–°å¹¶æ¨é€åˆ° GitHub:
   git add .
   git commit -m "æ›´æ–°å†…å®¹"
   git push

2. æœåŠ¡å™¨ä¸Šæ›´æ–°å¹¶é‡æ–°éƒ¨ç½²:
   npm run deploy

   æˆ–æ‰‹åŠ¨æ‰§è¡Œï¼š
   cd /root/todo-app
   git pull origin main
   npm install && npm run build
   pip install -r requirements.txt
   pm2 restart todo-backend

================================================================================
ğŸ” å®‰å…¨å»ºè®®
================================================================================

1. æ›´æ”¹ SSH å¯†é’¥æƒé™:
   chmod 600 ~/.ssh/id_rsa

2. é…ç½®é˜²ç«å¢™:
   ufw allow 22/tcp
   ufw allow 80/tcp
   ufw allow 443/tcp

3. å¯ç”¨ HTTPS:
   ä½¿ç”¨ Let's Encrypt é…ç½® SSL è¯ä¹¦
   bash aliyun-ssl-setup.sh (å¾…å®ç°)

4. å®šæœŸæ›´æ–°ç³»ç»Ÿ:
   apt-get update && apt-get upgrade

================================================================================
ğŸ› å¸¸è§é—®é¢˜
================================================================================

Q: PM2 å¯åŠ¨å¤±è´¥ï¼Ÿ
A: æ£€æŸ¥ Python ç¯å¢ƒï¼Œç¡®ä¿ pip install -r requirements.txt æˆåŠŸ

Q: æ— æ³•è¿æ¥åˆ°åç«¯ï¼Ÿ
A: æ£€æŸ¥ Nginx é…ç½®ï¼Œç¡®ä¿åç«¯è¿è¡Œåœ¨ 8000 ç«¯å£

Q: å‰ç«¯æ˜¾ç¤ºç©ºç™½ï¼Ÿ
A: æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸï¼Œè¿è¡Œ npm run build é‡æ–°æ„å»º

Q: API æ–‡æ¡£æ— æ³•è®¿é—®ï¼Ÿ
A: æ£€æŸ¥ Nginx é…ç½®ä¸­ /docs çš„ä»£ç†è®¾ç½®

================================================================================
ğŸ“ æ”¯æŒä¿¡æ¯
================================================================================

æœåŠ¡å™¨åœ°å€: 182.92.82.185
SSH å¯†é’¥: ~/Desktop/MyMac.pem
åº”ç”¨ç›®å½•: /root/todo-app

åç«¯æ—¥å¿—: /root/todo-app/backend.log
å‰ç«¯æ—¥å¿—: /root/todo-app/frontend.log
Nginx æ—¥å¿—: /var/log/nginx/

================================================================================
âœ… éƒ¨ç½²æ£€æŸ¥æ¸…å•
================================================================================

[ ] æœåŠ¡å™¨ç¯å¢ƒå·²åˆå§‹åŒ– (bash server-setup.sh)
[ ] åº”ç”¨å·²éƒ¨ç½² (npm run deploy)
[ ] Nginx å·²é…ç½® (bash aliyun-nginx-setup.sh)
[ ] å‰ç«¯å¯è®¿é—®: http://182.92.82.185
[ ] API å¯è®¿é—®: http://182.92.82.185/api/todos
[ ] æ–‡æ¡£å¯è®¿é—®: http://182.92.82.185/docs
[ ] PM2 è¿›ç¨‹æ­£å¸¸è¿è¡Œ
[ ] æ•°æ®åº“å·²åˆå§‹åŒ–
[ ] é˜²ç«å¢™å·²é…ç½®
[ ] å¤‡ä»½è®¡åˆ’å·²åˆ¶å®š

================================================================================
